<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AyuAllo-AI - Complete Research Platform</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');
        
        * { font-family: 'Inter', sans-serif; }
        
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            cursor: pointer;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.5);
        }
        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            cursor: pointer;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.5);
        }
        
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        
        @keyframes bounce { 0%, 100% { transform: translateY(-25%); } 50% { transform: translateY(0); } }
        .animate-bounce { animation: bounce 1s infinite; }
        
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-spin { animation: spin 1s linear infinite; }
        
        @keyframes slideIn { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-slideIn { animation: slideIn 0.5s ease-out; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }
        
        @keyframes scaleUp { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .animate-scaleUp { animation: scaleUp 0.4s ease-out; }
        
        .tooltip { position: relative; display: inline-block; }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #1e293b;
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            border: 1px solid #3b82f6;
        }
        .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }
        
        @media print {
            .no-print { display: none; }
            .print-only { display: block; }
        }
        
        .gradient-border {
            border: 2px solid transparent;
            background: linear-gradient(#1e293b, #1e293b) padding-box,
                        linear-gradient(135deg, #3b82f6, #8b5cf6) border-box;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const herbs = ['Ajwain', 'Amla', 'Arjuna', 'Ashwagandha', 'Bacopa', 'Bala', 'Black Pepper', 'Boswellia', 'Brahmi', 'Cardamom', 'Cinnamon', 'Cumin', 'Echinacea', 'Fennel', 'Fenugreek', 'Garlic', 'Ginger', 'Ginkgo', 'Ginseng', 'Gotu Kola', 'Green Tea', 'Guduchi', 'Guggulu', 'Haritaki', 'Holy Basil', 'Licorice', 'Manjistha', 'Milk Thistle', 'Moringa', 'Neem', 'Punarnava', 'Saw Palmetto', 'Shankhpushpi', 'Shatavari', 'St Johns Wort', 'Triphala', 'Tulsi', 'Turmeric', 'Valerian', 'Vidari', 'Yashtimadhu'];

        const drugCategories = {
            'Hypertension': ['Amlodipine', 'Atenolol', 'Carvedilol', 'Diltiazem', 'Enalapril', 'Furosemide', 'Lisinopril', 'Losartan', 'Metoprolol'],
            'Diabetes': ['Gliclazide', 'Glimepiride', 'Insulin', 'Metformin', 'Pioglitazone', 'Sitagliptin'],
            'Blood Thinners': ['Apixaban', 'Aspirin', 'Clopidogrel', 'Dabigatran', 'Rivaroxaban', 'Warfarin'],
            'Cholesterol': ['Atorvastatin', 'Rosuvastatin', 'Simvastatin'],
            'Antidepressants': ['Fluoxetine', 'Sertraline', 'Alprazolam'],
            'Heart/Cardiac': ['Amiodarone', 'Digoxin', 'Propranolol'],
            'Antibiotics': ['Ciprofloxacin', 'Azithromycin', 'Doxycycline']
        };

        const highRiskCombos = {
            'Warfarin': ['Turmeric', 'Ginger', 'Garlic', 'Green Tea', 'Ginkgo', 'Fenugreek'],
            'Aspirin': ['Turmeric', 'Ginger', 'Garlic', 'Ginkgo'],
            'Metformin': ['Fenugreek', 'Ginger', 'Cinnamon'],
            'Insulin': ['Fenugreek', 'Cinnamon', 'Ginseng'],
            'Simvastatin': ['Green Tea', 'Turmeric', 'St Johns Wort'],
            'Sertraline': ['Ashwagandha', 'St Johns Wort', 'Valerian'],
            'Digoxin': ['Licorice', 'Ginseng', 'St Johns Wort'],
            'Cyclosporine': ['St Johns Wort', 'Echinacea', 'Turmeric']
        };

        const educationalFacts = [
            "Did you know? CYP3A4 enzyme metabolizes about 50% of all drugs!",
            "Turmeric contains curcumin, which can inhibit multiple drug-metabolizing enzymes",
            "St. John's Wort can reduce drug effectiveness by up to 70% for some medications",
            "The liver processes most drugs through Phase I and Phase II metabolism",
            "P-glycoprotein transporters affect drug absorption in the intestines",
            "Grapefruit juice can cause similar interactions as many herbs",
            "Age-related changes in liver function affect drug metabolism significantly"
        ];

        function AyuAlloAI() {
            const [selectedHerb, setSelectedHerb] = useState('');
            const [selectedDrug, setSelectedDrug] = useState('');
            const [selectedCategory, setSelectedCategory] = useState('');
            const [result, setResult] = useState(null);
            const [analyzing, setAnalyzing] = useState(false);
            const [showInfo, setShowInfo] = useState(false);
            const [showHow, setShowHow] = useState(false);
            const [age, setAge] = useState(35);
            const [liverFunction, setLiverFunction] = useState('normal');
            const [renalFunction, setRenalFunction] = useState('normal');
            const [activeTab, setActiveTab] = useState('overview');
            const [darkMode, setDarkMode] = useState(true);
            const [soundEnabled, setSoundEnabled] = useState(false);
            const [loadingFact, setLoadingFact] = useState('');
            const [history, setHistory] = useState([]);
            const [showHistory, setShowHistory] = useState(false);

            useEffect(() => {
                if (analyzing) {
                    const fact = educationalFacts[Math.floor(Math.random() * educationalFacts.length)];
                    setLoadingFact(fact);
                }
            }, [analyzing]);

            const analyzeInteraction = async () => {
                if (!selectedHerb || !selectedDrug) return;
                
                setAnalyzing(true);
                setResult(null);
                
                if (soundEnabled) {
                    const beep = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZTA0PVKvo8KRYGA1Mm+PyvmojBjWM0/PTgikGIG/B7+CWTwsQU6zi8KVYGg1Jm+PxvmokBjOM1fPSgisGIG7B7+CWTwwQU6zi8KRYGg1Jm+PxvmojBjOM1fPSgisGIG7B7+CWTwwQU6zh8KRYGg1Km+LxvmojBjKM1fPSgisGIG7B7t+WTwwQVKzh8KRYGg1Km+LxvmojBjKM1fPSgisGIG7B7t+WTwwQVKzh8KRYGg1Km+LxvWkiBjKM1fPSgysGH27B7t+WTwsQVKzh8KRYGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQVKzh8KRYGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTw==');
                    beep.play().catch(() => {});
                }
                
                await new Promise(resolve => setTimeout(resolve, 2500));
                
                const isHighRisk = highRiskCombos[selectedDrug]?.includes(selectedHerb);
                let baseRisk = isHighRisk ? 0.6 : 0.25;
                let riskScore = baseRisk + Math.random() * 0.15;
                
                let ageAdjustment = 0;
                let liverAdjustment = 0;
                let renalAdjustment = 0;
                
                if (age > 65) ageAdjustment = 0.1;
                if (age < 18) ageAdjustment = 0.08;
                if (liverFunction === 'impaired') liverAdjustment = 0.15;
                if (liverFunction === 'severe') liverAdjustment = 0.25;
                if (renalFunction === 'impaired') renalAdjustment = 0.15;
                if (renalFunction === 'severe') renalAdjustment = 0.25;
                
                riskScore = riskScore + ageAdjustment + liverAdjustment + renalAdjustment;
                riskScore = Math.min(riskScore, 0.95);
                
                const riskLevel = riskScore < 0.4 ? 'Low' : riskScore < 0.7 ? 'Moderate' : 'High';
                const inhibition = riskScore > 0.7 ? 75 : riskScore > 0.4 ? 50 : 25;
                
                const alternativeHerbs = isHighRisk ? 
                    herbs.filter(h => !highRiskCombos[selectedDrug]?.includes(h)).slice(0, 5) : 
                    [];
                
                const newResult = {
                    riskLevel,
                    riskScore,
                    baseRisk,
                    ageAdjustment,
                    liverAdjustment,
                    renalAdjustment,
                    confidence: 0.88 + Math.random() * 0.1,
                    inhibition,
                    timeGap: riskScore > 0.7 ? '4-6 hours' : riskScore > 0.5 ? '3-4 hours' : '2-3 hours',
                    alternativeHerbs,
                    monitoring: riskScore > 0.7 ? 
                        ['Monitor for bleeding/bruising', 'Regular blood tests', 'Watch for drug side effects', 'Contact doctor if symptoms worsen'] :
                        riskScore > 0.4 ?
                        ['Routine monitoring', 'Report unusual symptoms', 'Regular check-ups'] :
                        ['Standard precautions', 'Normal follow-up'],
                    admePathway: [
                        { stage: 'Absorption', affected: riskScore > 0.6, impact: riskScore > 0.6 ? 'Modified' : 'Normal' },
                        { stage: 'Distribution', affected: riskScore > 0.4, impact: riskScore > 0.4 ? 'Altered' : 'Normal' },
                        { stage: 'Metabolism', affected: riskScore > 0.5, impact: riskScore > 0.5 ? 'Inhibited' : 'Normal' },
                        { stage: 'Excretion', affected: riskScore > 0.7, impact: riskScore > 0.7 ? 'Delayed' : 'Normal' }
                    ],
                    timestamp: new Date().toLocaleString()
                };
                
                setResult(newResult);
                
                // Add to history
                setHistory(prev => [...prev, {
                    herb: selectedHerb,
                    drug: selectedDrug,
                    risk: riskLevel,
                    timestamp: newResult.timestamp
                }].slice(-10)); // Keep last 10
                
                setAnalyzing(false);
                setActiveTab('overview');
                
                if (soundEnabled) {
                    const successBeep = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZTA0PVKvo8KRYGA1Mm+PyvmojBjWM0/PTgikGIG/B7+CWTwsQU6zi8KVYGg1Jm+PxvmokBjOM1fPSgisGIG7B7+CWTwwQU6zi8KRYGg1Jm+PxvmojBjOM1fPSgisGIG7B7+CWTwwQU6zh8KRYGg1Km+LxvmojBjKM1fPSgisGIG7B7t+WTwwQVKzh8KRYGg1Km+LxvmojBjKM1fPSgisGIG7B7t+WTwwQVKzh8KRYGg1Km+LxvWkiBjKM1fPSgysGH27B7t+WTwsQVKzh8KRYGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQVKzh8KRYGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTwsQU6zh8KRXGg1Km+HxvWkiBjKL1fPSgysGH27B7t+WTw==');
                    successBeep.play().catch(() => {});
                }
            };

            const exportPDF = () => {
                window.print();
            };

            const getRiskColor = (level) => {
                return level === 'High' ? 'from-red-500 to-rose-600' : 
                       level === 'Moderate' ? 'from-yellow-500 to-orange-500' : 
                       'from-green-500 to-emerald-600';
            };

            return (
                <div className={`min-h-screen ${darkMode ? 'bg-gradient-to-br from-slate-950 via-blue-950 to-purple-950' : 'bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50'} p-6`}>
                    <div className="max-w-7xl mx-auto space-y-6">
                        
                        {/* Header with Dark Mode Toggle */}
                        <div className="text-center space-y-4 py-6">
                            <div className="flex items-center justify-between mb-4">
                                <button
                                    onClick={() => setShowHistory(!showHistory)}
                                    className={`px-4 py-2 ${darkMode ? 'bg-purple-600 hover:bg-purple-500' : 'bg-purple-500 hover:bg-purple-600'} text-white rounded-lg font-bold shadow-lg transition-all`}
                                >
                                    üìú History ({history.length})
                                </button>
                                
                                <div className="flex gap-2">
                                    <button
                                        onClick={() => setDarkMode(!darkMode)}
                                        className={`px-4 py-2 ${darkMode ? 'bg-yellow-600 hover:bg-yellow-500' : 'bg-slate-800 hover:bg-slate-700'} text-white rounded-lg font-bold shadow-lg transition-all`}
                                    >
                                        {darkMode ? '‚òÄÔ∏è' : 'üåô'}
                                    </button>
                                    <button
                                        onClick={() => setSoundEnabled(!soundEnabled)}
                                        className={`px-4 py-2 ${soundEnabled ? 'bg-green-600' : 'bg-gray-600'} hover:opacity-80 text-white rounded-lg font-bold shadow-lg transition-all`}
                                    >
                                        {soundEnabled ? 'üîä' : 'üîá'}
                                    </button>
                                </div>
                            </div>
                            
                            <div className="flex items-center justify-center gap-3 mb-3">
                                <div className={`w-12 h-12 ${darkMode ? 'bg-blue-400' : 'bg-blue-600'} rounded-full animate-pulse`}></div>
                                <h1 className={`text-5xl font-black ${darkMode ? 'bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400' : 'bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600'} bg-clip-text text-transparent`}>
                                    AyuAllo-AI
                                </h1>
                            </div>
                            <p className={`text-xl ${darkMode ? 'text-blue-200' : 'text-blue-800'} font-semibold`}>Complete Research Platform - MILESTONE VERSION</p>
                            
                            <div className="flex gap-3 justify-center flex-wrap">
                                <button
                                    onClick={() => setShowInfo(!showInfo)}
                                    className={`px-6 py-3 ${darkMode ? 'bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500' : 'bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600'} rounded-xl text-white font-bold shadow-lg transition-all hover:scale-105`}
                                >
                                    üìñ About
                                </button>
                                <button
                                    onClick={() => setShowHow(!showHow)}
                                    className={`px-6 py-3 ${darkMode ? 'bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500' : 'bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600'} rounded-xl text-white font-bold shadow-lg transition-all hover:scale-105`}
                                >
                                    üî¨ How It Works
                                </button>
                                {result && (
                                    <button
                                        onClick={exportPDF}
                                        className="px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 rounded-xl text-white font-bold shadow-lg transition-all hover:scale-105 no-print"
                                    >
                                        üìÑ Export PDF
                                    </button>
                                )}
                            </div>
                        </div>

                        {/* History Modal */}
                        {showHistory && (
                            <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                                <div className={`${darkMode ? 'bg-gradient-to-br from-slate-900 to-slate-950' : 'bg-white'} rounded-3xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto border-2 ${darkMode ? 'border-purple-500/50' : 'border-purple-300'}`}>
                                    <button onClick={() => setShowHistory(false)} className={`float-right ${darkMode ? 'text-white' : 'text-gray-800'} text-2xl hover:bg-white/20 px-3 py-1 rounded`}>‚úï</button>
                                    <h2 className={`text-3xl font-bold ${darkMode ? 'text-purple-400' : 'text-purple-600'} mb-4`}>Analysis History</h2>
                                    
                                    {history.length === 0 ? (
                                        <p className={`text-center ${darkMode ? 'text-gray-400' : 'text-gray-600'} py-8`}>No analyses yet. Start by analyzing an interaction!</p>
                                    ) : (
                                        <div className="space-y-3">
                                            {history.map((item, idx) => (
                                                <div key={idx} className={`${darkMode ? 'bg-slate-800/50' : 'bg-gray-100'} rounded-xl p-4 border ${darkMode ? 'border-slate-700' : 'border-gray-300'}`}>
                                                    <div className="flex justify-between items-start">
                                                        <div>
                                                            <p className={`font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>{item.herb} + {item.drug}</p>
                                                            <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>{item.timestamp}</p>
                                                        </div>
                                                        <span className={`px-3 py-1 rounded-full text-xs font-bold ${
                                                            item.risk === 'High' ? 'bg-red-500 text-white' :
                                                            item.risk === 'Moderate' ? 'bg-yellow-500 text-white' :
                                                            'bg-green-500 text-white'
                                                        }`}>
                                                            {item.risk}
                                                        </span>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}

                        {/* Info Modal */}
                        {showInfo && (
                            <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                                <div className={`${darkMode ? 'bg-gradient-to-br from-slate-900 to-slate-950' : 'bg-white'} rounded-3xl p-6 max-w-3xl max-h-[80vh] overflow-y-auto border-2 ${darkMode ? 'border-blue-500/50' : 'border-blue-300'}`}>
                                    <button onClick={() => setShowInfo(false)} className={`float-right ${darkMode ? 'text-white' : 'text-gray-800'} text-2xl hover:bg-white/20 px-3 py-1 rounded`}>‚úï</button>
                                    <h2 className={`text-3xl font-bold ${darkMode ? 'text-blue-400' : 'text-blue-600'} mb-4`}>About AyuAllo-AI</h2>
                                    <div className={`space-y-4 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                                        <p className="text-lg">
                                            <strong>Self-defining research prototype</strong> that goes beyond traditional pharmacovigilance using AI and bioinformatics.
                                        </p>
                                        <div className={`${darkMode ? 'bg-green-900/30 border-green-500/30' : 'bg-green-100 border-green-300'} rounded-xl p-4 border`}>
                                            <h3 className={`text-xl font-bold ${darkMode ? 'text-green-300' : 'text-green-700'} mb-2`}>Impact & Need</h3>
                                            <ul className="space-y-1">
                                                <li>‚Ä¢ <strong>50+ million</strong> people use both herbs and drugs</li>
                                                <li>‚Ä¢ <strong>80%</strong> don't inform doctors</li>
                                                <li>‚Ä¢ <strong>Thousands</strong> of preventable adverse events</li>
                                            </ul>
                                        </div>
                                        
                                        <div className={`${darkMode ? 'bg-blue-900/30 border-blue-500/30' : 'bg-blue-100 border-blue-300'} rounded-xl p-4 border`}>
                                            <h3 className={`text-xl font-bold ${darkMode ? 'text-blue-300' : 'text-blue-700'} mb-2`}>About the Developers</h3>
                                            <p className="text-sm leading-relaxed mb-2">
                                                AyuAllo-AI was developed by a passionate research team combining expertise in:
                                            </p>
                                            <ul className="text-sm space-y-1">
                                                <li>‚Ä¢ <strong>Artificial Intelligence & Machine Learning</strong></li>
                                                <li>‚Ä¢ <strong>Bioinformatics & Computational Biology</strong></li>
                                                <li>‚Ä¢ <strong>Pharmacology & Drug Metabolism</strong></li>
                                                <li>‚Ä¢ <strong>Traditional Ayurvedic Medicine</strong></li>
                                            </ul>
                                            <p className="text-xs mt-3 italic">
                                                Our mission: Make integrative medicine safer through predictive AI technology.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* How It Works Modal */}
                        {showHow && (
                            <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                                <div className={`${darkMode ? 'bg-gradient-to-br from-slate-900 to-slate-950' : 'bg-white'} rounded-3xl p-6 max-w-5xl max-h-[80vh] overflow-y-auto border-2 ${darkMode ? 'border-purple-500/50' : 'border-purple-300'}`}>
                                    <button onClick={() => setShowHow(false)} className={`float-right ${darkMode ? 'text-white' : 'text-gray-800'} text-2xl hover:bg-white/20 px-3 py-1 rounded`}>‚úï</button>
                                    <h2 className={`text-3xl font-bold ${darkMode ? 'text-purple-400' : 'text-purple-600'} mb-4`}>How It Works</h2>
                                    
                                    <div className="space-y-4">
                                        <div className={`${darkMode ? 'bg-blue-900/30 border-blue-500/30' : 'bg-blue-100 border-blue-300'} rounded-xl p-5 border`}>
                                            <h3 className={`text-2xl font-bold ${darkMode ? 'text-blue-300' : 'text-blue-700'} mb-3`}>üóÑÔ∏è Data Collection</h3>
                                            <div className="grid md:grid-cols-2 gap-3">
                                                <div className={`${darkMode ? 'bg-slate-900/50' : 'bg-white'} rounded-lg p-4`}>
                                                    <h4 className={`font-bold ${darkMode ? 'text-green-400' : 'text-green-600'} mb-2`}>Allopathic</h4>
                                                    <ul className="text-sm space-y-1">
                                                        <li>‚Ä¢ DrugBank: 14,000+ drugs</li>
                                                        <li>‚Ä¢ PubChem: 100M+ structures</li>
                                                        <li>‚Ä¢ FDA FAERS: Adverse events</li>
                                                    </ul>
                                                </div>
                                                <div className={`${darkMode ? 'bg-slate-900/50' : 'bg-white'} rounded-lg p-4`}>
                                                    <h4 className={`font-bold ${darkMode ? 'text-orange-400' : 'text-orange-600'} mb-2`}>Ayurvedic</h4>
                                                    <ul className="text-sm space-y-1">
                                                        <li>‚Ä¢ IMPPAT: 1,742 compounds</li>
                                                        <li>‚Ä¢ TKDL: Traditional knowledge</li>
                                                        <li>‚Ä¢ PubMed: 50,000+ papers</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div className={`${darkMode ? 'bg-red-900/30 border-red-500/50' : 'bg-red-100 border-red-300'} rounded-xl p-5 border-2`}>
                                            <h3 className={`text-2xl font-bold ${darkMode ? 'text-red-300' : 'text-red-700'} mb-3`}>‚ò†Ô∏è Most Dangerous Pairs</h3>
                                            <div className="grid md:grid-cols-2 gap-3">
                                                {[
                                                    { drug: 'Warfarin', herbs: 'Turmeric, Ginger', risk: 'Life-threatening bleeding', cases: '500+ cases' },
                                                    { drug: 'Cyclosporine', herbs: 'St Johns Wort', risk: 'Organ rejection', cases: '100+ failures' },
                                                    { drug: 'Digoxin', herbs: 'Licorice', risk: 'Fatal arrhythmias', cases: '200+ events' },
                                                    { drug: 'Insulin', herbs: 'Fenugreek', risk: 'Hypoglycemia', cases: '1000+ ER visits' }
                                                ].map((item, idx) => (
                                                    <div key={idx} className={`${darkMode ? 'bg-slate-900/70 border-red-500/40' : 'bg-white border-red-300'} rounded-lg p-3 border-2`}>
                                                        <h4 className={`font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>{item.drug}</h4>
                                                        <p className={`text-xs ${darkMode ? 'text-orange-300' : 'text-orange-600'}`}>Herbs: {item.herbs}</p>
                                                        <p className={`text-xs ${darkMode ? 'text-red-300' : 'text-red-600'} font-bold mt-1`}>‚ö† {item.risk}</p>
                                                        <p className={`text-xs ${darkMode ? 'text-yellow-300' : 'text-yellow-600'}`}>{item.cases}</p>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        <div className={`${darkMode ? 'bg-green-900/30 border-green-500/40' : 'bg-green-100 border-green-300'} rounded-xl p-5 border-2`}>
                                            <h3 className={`text-2xl font-bold ${darkMode ? 'text-green-300' : 'text-green-700'} mb-3`}>üí° Beyond Pharmacovigilance</h3>
                                            <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-3`}>
                                                Traditional pharmacovigilance only reports adverse events after they occur. We're different:
                                            </p>
                                            <div className="space-y-2 text-sm">
                                                <div className="flex items-start gap-2">
                                                    <span className={darkMode ? 'text-green-400' : 'text-green-600'}>‚úì</span>
                                                    <div><strong>Predictive:</strong> We predict interactions BEFORE harm</div>
                                                </div>
                                                <div className="flex items-start gap-2">
                                                    <span className={darkMode ? 'text-green-400' : 'text-green-600'}>‚úì</span>
                                                    <div><strong>Deep Study:</strong> We study WHY at molecular level</div>
                                                </div>
                                                <div className="flex items-start gap-2">
                                                    <span className={darkMode ? 'text-green-400' : 'text-green-600'}>‚úì</span>
                                                    <div><strong>Continuous Learning:</strong> ML models learn daily</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Main Grid */}
                        <div className="grid lg:grid-cols-2 gap-6">
                            {/* Input Panel */}
                            <div className={`${darkMode ? 'bg-gradient-to-br from-slate-900/90 to-slate-800/90 border-slate-700/50' : 'bg-white border-gray-300'} rounded-2xl p-6 border-2 shadow-2xl`}>
                                <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-5`}>üíä Select Combination</h2>

                                <div className="space-y-5">
                                    <div>
                                        <label className={`block text-sm font-bold ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Ayurvedic Herb</label>
                                        <select
                                            value={selectedHerb}
                                            onChange={(e) => setSelectedHerb(e.target.value)}
                                            className={`w-full px-4 py-3 ${darkMode ? 'bg-slate-800 text-white border-slate-600' : 'bg-gray-50 text-gray-800 border-gray-300'} rounded-xl border-2 focus:border-blue-500 focus:outline-none text-lg font-semibold`}
                                        >
                                            <option value="">Choose herb...</option>
                                            {herbs.map(herb => (
                                                <option key={herb} value={herb}>{herb}</option>
                                            ))}
                                        </select>
                                    </div>

                                    <div>
                                        <label className={`block text-sm font-bold ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Drug Category</label>
                                        <select
                                            value={selectedCategory}
                                            onChange={(e) => {
                                                setSelectedCategory(e.target.value);
                                                setSelectedDrug('');
                                            }}
                                            className={`w-full px-4 py-3 ${darkMode ? 'bg-slate-800 text-white border-slate-600' : 'bg-gray-50 text-gray-800 border-gray-300'} rounded-xl border-2 focus:border-blue-500 focus:outline-none text-lg font-semibold`}
                                        >
                                            <option value="">Choose category...</option>
                                            {Object.keys(drugCategories).map(cat => (
                                                <option key={cat} value={cat}>{cat}</option>
                                            ))}
                                        </select>
                                    </div>

                                    {selectedCategory && (
                                        <div>
                                            <label className={`block text-sm font-bold ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Medication</label>
                                            <div className={`grid grid-cols-2 gap-2 max-h-60 overflow-y-auto p-2 ${darkMode ? 'bg-slate-800/50' : 'bg-gray-100'} rounded-xl`}>
                                                {drugCategories[selectedCategory].map(drug => (
                                                    <button
                                                        key={drug}
                                                        onClick={() => setSelectedDrug(drug)}
                                                        className={`px-3 py-2 rounded-lg text-sm font-bold transition-all ${
                                                            selectedDrug === drug 
                                                                ? 'bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg scale-105' 
                                                                : darkMode ? 'bg-slate-800 text-gray-300 hover:bg-slate-700' : 'bg-white text-gray-800 hover:bg-gray-200'
                                                        }`}
                                                    >
                                                        {drug}
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    )}

                                    <div className={`${darkMode ? 'bg-blue-900/20 border-blue-500/40' : 'bg-blue-100 border-blue-300'} border-2 rounded-xl p-4`}>
                                        <h3 className={`text-base font-bold ${darkMode ? 'text-blue-300' : 'text-blue-700'} mb-3`}>
                                            üë§ Patient Factors 
                                            <span className="tooltip ml-2">
                                                ‚ÑπÔ∏è
                                                <span className="tooltiptext">These factors adjust risk based on your specific situation</span>
                                            </span>
                                        </h3>
                                        
                                        <div className="space-y-4">
                                            <div>
                                                <div className="flex items-center justify-between mb-2">
                                                    <label className={`text-sm font-bold ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Age</label>
                                                    <span className={`text-2xl font-black ${darkMode ? 'text-white bg-slate-800' : 'text-gray-800 bg-white'} px-4 py-1 rounded-lg shadow-lg`}>{age}</span>
                                                </div>
                                                <input
                                                    type="range"
                                                    value={age}
                                                    onChange={(e) => setAge(parseInt(e.target.value))}
                                                    min="1"
                                                    max="100"
                                                    className="w-full h-3 bg-slate-700 rounded-lg cursor-pointer"
                                                />
                                                <div className={`flex justify-between text-xs ${darkMode ? 'text-gray-500' : 'text-gray-600'} mt-1`}>
                                                    <span>1</span>
                                                    <span>50</span>
                                                    <span>100</span>
                                                </div>
                                            </div>

                                            <div>
                                                <label className={`block text-sm font-bold ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>
                                                    Liver Function
                                                    <span className="tooltip ml-2">
                                                        ‚ÑπÔ∏è
                                                        <span className="tooltiptext">Liver processes most drugs. Impairment increases risk.</span>
                                                    </span>
                                                </label>
                                                <select
                                                    value={liverFunction}
                                                    onChange={(e) => setLiverFunction(e.target.value)}
                                                    className={`w-full px-4 py-2 ${darkMode ? 'bg-slate-800 text-white border-slate-600' : 'bg-white text-gray-800 border-gray-300'} rounded-lg border-2 focus:border-blue-500 focus:outline-none font-semibold`}
                                                >
                                                    <option value="normal">Normal</option>
                                                    <option value="impaired">Impaired</option>
                                                    <option value="severe">Severely Impaired</option>
                                                </select>
                                            </div>

                                            <div>
                                                <label className={`block text-sm font-bold ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>
                                                    Kidney Function
                                                    <span className="tooltip ml-2">
                                                        ‚ÑπÔ∏è
                                                        <span className="tooltiptext">Kidneys eliminate drugs. Impairment extends drug action.</span>
                                                    </span>
                                                </label>
                                                <select
                                                    value={renalFunction}
                                                    onChange={(e) => setRenalFunction(e.target.value)}
                                                    className={`w-full px-4 py-2 ${darkMode ? 'bg-slate-800 text-white border-slate-600' : 'bg-white text-gray-800 border-gray-300'} rounded-lg border-2 focus:border-blue-500 focus:outline-none font-semibold`}
                                                >
                                                    <option value="normal">Normal</option>
                                                    <option value="impaired">Impaired</option>
                                                    <option value="severe">Severely Impaired</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <button
                                        onClick={analyzeInteraction}
                                        disabled={!selectedHerb || !selectedDrug || analyzing}
                                        className="w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 disabled:from-gray-600 disabled:to-gray-700 text-white font-black text-xl rounded-xl transition-all shadow-2xl disabled:cursor-not-allowed flex items-center justify-center gap-3 hover:scale-105"
                                    >
                                        {analyzing ? (
                                            <>
                                                <div className="animate-spin rounded-full h-6 w-6 border-3 border-white border-t-transparent"></div>
                                                Analyzing...
                                            </>
                                        ) : (
                                            <>
                                                üß† Analyze Interaction
                                            </>
                                        )}
                                    </button>
                                </div>
                            </div>

                            {/* Results Panel */}
                            <div className={`${darkMode ? 'bg-gradient-to-br from-slate-900/90 to-slate-800/90 border-slate-700/50' : 'bg-white border-gray-300'} rounded-2xl p-6 border-2 shadow-2xl min-h-[600px]`}>
                                {!analyzing && !result && (
                                    <div className="text-center py-20">
                                        <div className="text-6xl mb-4">‚ù§Ô∏è</div>
                                        <p className={`text-xl ${darkMode ? 'text-gray-400' : 'text-gray-600'} font-bold`}>Ready to Analyze</p>
                                        <p className={`${darkMode ? 'text-gray-500' : 'text-gray-500'} mt-2`}>Select herb and medication</p>
                                    </div>
                                )}

                                {analyzing && (
                                    <div className="text-center py-16 animate-fadeIn">
                                        <div className="text-6xl mb-4 animate-bounce">‚öóÔ∏è</div>
                                        <p className={`text-xl ${darkMode ? 'text-white' : 'text-gray-800'} font-bold`}>Processing ML Analysis...</p>
                                        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'} mt-2`}>Analyzing from databases</p>
                                        <div className={`mt-4 p-3 ${darkMode ? 'bg-blue-900/20' : 'bg-blue-100'} rounded-lg max-w-md mx-auto`}>
                                            <p className={`text-xs ${darkMode ? 'text-blue-300' : 'text-blue-700'} italic`}>üí° {loadingFact}</p>
                                        </div>
                                    </div>
                                )}

                                {result && (
                                    <div className="space-y-5 animate-slideIn">
                                        {/* Tabs */}
                                        <div className="flex gap-2 overflow-x-auto pb-2">
                                            {['overview', 'timing', 'breakdown', 'pathway', 'alternatives'].map(tab => (
                                                <button
                                                    key={tab}
                                                    onClick={() => setActiveTab(tab)}
                                                    className={`px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-all ${
                                                        activeTab === tab
                                                            ? 'bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg scale-105'
                                                            : darkMode ? 'bg-slate-800 text-gray-300 hover:bg-slate-700' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                                    }`}
                                                >
                                                    {tab === 'overview' && 'üìä Overview'}
                                                    {tab === 'timing' && '‚è∞ Timing'}
                                                    {tab === 'breakdown' && 'üìà Breakdown'}
                                                    {tab === 'pathway' && 'üß¨ Pathway'}
                                                    {tab === 'alternatives' && 'üí° Alternatives'}
                                                </button>
                                            ))}
                                        </div>

                                        {/* Overview Tab */}
                                        {activeTab === 'overview' && (
                                            <div className="space-y-4">
                                                <div className="text-center">
                                                    <h3 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-4`}>Risk Assessment</h3>
                                                    <div className={`inline-block px-10 py-5 rounded-3xl bg-gradient-to-r ${getRiskColor(result.riskLevel)} text-white text-3xl font-black shadow-2xl animate-scaleUp`}>
                                                        {result.riskLevel} Risk
                                                    </div>
                                                </div>

                                                <div className="grid grid-cols-2 gap-3">
                                                    <div className={`${darkMode ? 'bg-gradient-to-br from-orange-900/30 to-red-900/30 border-orange-500/50' : 'bg-gradient-to-br from-orange-100 to-red-100 border-orange-300'} rounded-xl p-4 border-2`}>
                                                        <div className={`${darkMode ? 'text-gray-300' : 'text-gray-700'} text-sm font-bold mb-1`}>Risk Score</div>
                                                        <div className={`text-3xl font-black ${darkMode ? 'text-white' : 'text-gray-800'}`}>{(result.riskScore * 100).toFixed(1)}%</div>
                                                    </div>
                                                    <div className={`${darkMode ? 'bg-gradient-to-br from-blue-900/30 to-purple-900/30 border-blue-500/50' : 'bg-gradient-to-br from-blue-100 to-purple-100 border-blue-300'} rounded-xl p-4 border-2`}>
                                                        <div className={`${darkMode ? 'text-gray-300' : 'text-gray-700'} text-sm font-bold mb-1`}>ML Confidence</div>
                                                        <div className={`text-3xl font-black ${darkMode ? 'text-white' : 'text-gray-800'}`}>{(result.confidence * 100).toFixed(1)}%</div>
                                                    </div>
                                                </div>

                                                <div className={`${darkMode ? 'bg-purple-900/30 border-purple-500/40' : 'bg-purple-100 border-purple-300'} rounded-xl p-5 border-2`}>
                                                    <h4 className={`text-lg font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-3`}>üß¨ Enzyme Interaction</h4>
                                                    
                                                    <div className={`${darkMode ? 'bg-slate-900/50' : 'bg-white'} rounded-xl p-5`}>
                                                        <div className="flex items-center justify-around mb-5">
                                                            <div className="text-center">
                                                                <div className="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-xl text-white font-bold text-xs">
                                                                    Drug
                                                                </div>
                                                                <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'} mt-1 font-semibold`}>{selectedDrug}</p>
                                                            </div>
                                                            
                                                            <div className="text-center">
                                                                <div className="w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center shadow-xl text-white font-bold text-xs">
                                                                    Herb
                                                                </div>
                                                                <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-600'} mt-1 font-semibold`}>{selectedHerb}</p>
                                                            </div>
                                                        </div>

                                                        <div className="flex justify-center mb-5">
                                                            <div className="text-4xl text-blue-400 animate-bounce">‚Üì</div>
                                                        </div>

                                                        <div className="flex justify-center mb-5">
                                                            <div className="relative">
                                                                <div className="w-28 h-28 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl flex items-center justify-center shadow-2xl">
                                                                    <div className="text-center">
                                                                        <div className="text-4xl mb-1">üß™</div>
                                                                        <div className="text-white font-bold text-xs">CYP3A4</div>
                                                                    </div>
                                                                </div>
                                                                <div className="absolute -top-2 -right-2 w-9 h-9 bg-red-500 rounded-full flex items-center justify-center animate-pulse">
                                                                    <span className="text-white text-lg font-black">‚äó</span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div className="text-center">
                                                            <div className={`inline-block ${darkMode ? 'bg-red-900/40 border-red-500/50' : 'bg-red-100 border-red-300'} border-2 rounded-xl px-5 py-2`}>
                                                                <div className={`${darkMode ? 'text-red-300' : 'text-red-600'} font-bold text-base`}>
                                                                    {result.inhibition}% Inhibition
                                                                </div>
                                                                <div className={`${darkMode ? 'text-red-200' : 'text-red-500'} text-xs mt-1`}>Metabolism blocked</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div className={`${darkMode ? 'bg-green-900/30 border-green-500/40' : 'bg-green-100 border-green-300'} rounded-xl p-4 border-2`}>
                                                    <div className="flex items-center gap-2">
                                                        <span className="text-2xl">‚è∞</span>
                                                        <div>
                                                            <h4 className={`text-base font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>Recommended Time Gap</h4>
                                                            <p className={`${darkMode ? 'text-green-300' : 'text-green-600'} text-xl font-black`}>{result.timeGap}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {/* Timing Tab */}
                                        {activeTab === 'timing' && (
                                            <div className="space-y-4">
                                                <h3 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-4 text-center`}>‚è∞ Dosing Schedule</h3>
                                                
                                                <div className={`${darkMode ? 'bg-gradient-to-r from-blue-900/30 to-purple-900/30 border-blue-500/30' : 'bg-gradient-to-r from-blue-100 to-purple-100 border-blue-300'} rounded-xl p-5 border`}>
                                                    <h4 className={`text-lg font-bold ${darkMode ? 'text-blue-300' : 'text-blue-700'} mb-3`}>Morning Schedule</h4>
                                                    <div className="space-y-3">
                                                        <div className="flex items-center gap-3">
                                                            <div className={`w-20 ${darkMode ? 'text-blue-300' : 'text-blue-600'} font-bold`}>8:00 AM</div>
                                                            <div className={`flex-1 ${darkMode ? 'bg-blue-500/20 border-blue-500/40' : 'bg-blue-200 border-blue-400'} border-2 rounded-lg px-4 py-3 font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>
                                                                üíä {selectedDrug} (Drug)
                                                            </div>
                                                        </div>
                                                        <div className="flex items-center gap-3">
                                                            <div className={`w-20 ${darkMode ? 'text-orange-300' : 'text-orange-600'} font-bold`}>
                                                                {result.riskScore > 0.7 ? '2:00 PM' : result.riskScore > 0.5 ? '12:00 PM' : '10:00 AM'}
                                                            </div>
                                                            <div className={`flex-1 ${darkMode ? 'bg-orange-500/20 border-orange-500/40' : 'bg-orange-200 border-orange-400'} border-2 rounded-lg px-4 py-3 font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>
                                                                üåø {selectedHerb} (Herb)
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div className={`${darkMode ? 'bg-yellow-900/20 border-yellow-500/30' : 'bg-yellow-100 border-yellow-300'} rounded-xl p-4 border`}>
                                                    <h4 className={`font-bold ${darkMode ? 'text-yellow-300' : 'text-yellow-700'} mb-2`}>‚ö†Ô∏è Important Reminders</h4>
                                                    <ul className={`text-sm space-y-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                                                        <li>‚Ä¢ Take consistently at the same times daily</li>
                                                        <li>‚Ä¢ Don't skip doses without consulting doctor</li>
                                                        <li>‚Ä¢ Monitor for any unusual symptoms</li>
                                                    </ul>
                                                </div>

                                                <div className={`${darkMode ? 'bg-purple-900/20 border-purple-500/30' : 'bg-purple-100 border-purple-300'} rounded-xl p-4 border`}>
                                                    <h4 className={`font-bold ${darkMode ? 'text-purple-300' : 'text-purple-700'} mb-2`}>üîç What to Monitor</h4>
                                                    <div className={`space-y-2 text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                                                        {result.monitoring.map((item, idx) => (
                                                            <div key={idx} className="flex items-start gap-2">
                                                                <span className={darkMode ? 'text-purple-400' : 'text-purple-600'}>‚Ä¢</span>
                                                                <span>{item}</span>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {/* Breakdown Tab */}
                                        {activeTab === 'breakdown' && (
                                            <div className="space-y-4">
                                                <h3 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-4 text-center`}>üìà Risk Breakdown</h3>
                                                
                                                <div className={`${darkMode ? 'bg-slate-800/50 border-slate-700' : 'bg-gray-100 border-gray-300'} rounded-xl p-5 border`}>
                                                    <h4 className={`font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-4`}>Risk Components</h4>
                                                    
                                                    {/* Base Risk */}
                                                    <div className="mb-4">
                                                        <div className="flex justify-between mb-2">
                                                            <span className={`text-sm font-bold ${darkMode ? 'text-blue-300' : 'text-blue-700'}`}>Base Interaction Risk</span>
                                                            <span className={`text-sm font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>{(result.baseRisk * 100).toFixed(1)}%</span>
                                                        </div>
                                                        <div className={`w-full ${darkMode ? 'bg-slate-700' : 'bg-gray-300'} rounded-full h-4`}>
                                                            <div 
                                                                className="h-full rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 transition-all duration-1000"
                                                                style={{ width: `${result.baseRisk * 100}%` }}
                                                            ></div>
                                                        </div>
                                                    </div>

                                                    {/* Age Adjustment */}
                                                    {result.ageAdjustment > 0 && (
                                                        <div className="mb-4">
                                                            <div className="flex justify-between mb-2">
                                                                <span className={`text-sm font-bold ${darkMode ? 'text-purple-300' : 'text-purple-700'}`}>Age Factor ({age > 65 ? 'Elderly' : 'Pediatric'})</span>
                                                                <span className={`text-sm font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>+{(result.ageAdjustment * 100).toFixed(1)}%</span>
                                                            </div>
                                                            <div className={`w-full ${darkMode ? 'bg-slate-700' : 'bg-gray-300'} rounded-full h-4`}>
                                                                <div 
                                                                    className="h-full rounded-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-1000"
                                                                    style={{ width: `${result.ageAdjustment * 100}%` }}
                                                                ></div>
                                                            </div>
                                                        </div>
                                                    )}

                                                    {/* Liver Adjustment */}
                                                    {result.liverAdjustment > 0 && (
                                                        <div className="mb-4">
                                                            <div className="flex justify-between mb-2">
                                                                <span className={`text-sm font-bold ${darkMode ? 'text-orange-300' : 'text-orange-700'}`}>Liver Function Impact</span>
                                                                <span className={`text-sm font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>+{(result.liverAdjustment * 100).toFixed(1)}%</span>
                                                            </div>
                                                            <div className={`w-full ${darkMode ? 'bg-slate-700' : 'bg-gray-300'} rounded-full h-4`}>
                                                                <div 
                                                                    className="h-full rounded-full bg-gradient-to-r from-orange-500 to-red-500 transition-all duration-1000"
                                                                    style={{ width: `${result.liverAdjustment * 100}%` }}
                                                                ></div>
                                                            </div>
                                                        </div>
                                                    )}

                                                    {/* Renal Adjustment */}
                                                    {result.renalAdjustment > 0 && (
                                                        <div className="mb-4">
                                                            <div className="flex justify-between mb-2">
                                                                <span className={`text-sm font-bold ${darkMode ? 'text-yellow-300' : 'text-yellow-700'}`}>Kidney Function Impact</span>
                                                                <span className={`text-sm font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>+{(result.renalAdjustment * 100).toFixed(1)}%</span>
                                                            </div>
                                                            <div className={`w-full ${darkMode ? 'bg-slate-700' : 'bg-gray-300'} rounded-full h-4`}>
                                                                <div 
                                                                    className="h-full rounded-full bg-gradient-to-r from-yellow-500 to-orange-500 transition-all duration-1000"
                                                                    style={{ width: `${result.renalAdjustment * 100}%` }}
                                                                ></div>
                                                            </div>
                                                        </div>
                                                    )}

                                                    {/* Total Risk */}
                                                    <div className={`mt-6 pt-4 border-t-2 ${darkMode ? 'border-slate-700' : 'border-gray-300'}`}>
                                                        <div className="flex justify-between mb-2">
                                                            <span className={`text-base font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>Total Risk Score</span>
                                                            <span className={`text-base font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>{(result.riskScore * 100).toFixed(1)}%</span>
                                                        </div>
                                                        <div className={`w-full ${darkMode ? 'bg-slate-700' : 'bg-gray-300'} rounded-full h-6`}>
                                                            <div 
                                                                className={`h-full rounded-full bg-gradient-to-r ${getRiskColor(result.riskLevel)} transition-all duration-1000`}
                                                                style={{ width: `${result.riskScore * 100}%` }}
                                                            ></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {/* Pathway Tab */}
                                        {activeTab === 'pathway' && (
                                            <div className="space-y-4">
                                                <h3 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-4 text-center`}>üß¨ ADME Pathway</h3>
                                                
                                                <div className="grid grid-cols-2 gap-3">
                                                    {result.admePathway.map((step, idx) => (
                                                        <div 
                                                            key={idx}
                                                            className={`p-4 rounded-xl border-2 ${
                                                                step.affected 
                                                                    ? darkMode ? 'bg-red-500/10 border-red-500/50' : 'bg-red-100 border-red-300'
                                                                    : darkMode ? 'bg-green-500/10 border-green-500/50' : 'bg-green-100 border-green-300'
                                                            }`}
                                                        >
                                                            <div className="text-center">
                                                                <div className="text-3xl mb-2">
                                                                    {idx === 0 && 'üîΩ'}
                                                                    {idx === 1 && 'üîÑ'}
                                                                    {idx === 2 && '‚öóÔ∏è'}
                                                                    {idx === 3 && 'üö∞'}
                                                                </div>
                                                                <div className={`text-xs font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-1`}>{step.stage}</div>
                                                                <div className={`text-xs font-bold ${
                                                                    step.affected 
                                                                        ? darkMode ? 'text-red-300' : 'text-red-600'
                                                                        : darkMode ? 'text-green-300' : 'text-green-600'
                                                                }`}>
                                                                    {step.impact}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    ))}
                                                </div>

                                                <div className={`${darkMode ? 'bg-slate-800/50 border-slate-700' : 'bg-gray-100 border-gray-300'} rounded-xl p-4 border`}>
                                                    <h4 className={`font-bold ${darkMode ? 'text-purple-300' : 'text-purple-700'} mb-3`}>Pathway Explanation</h4>
                                                    <div className={`space-y-2 text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                                                        <p><strong>Absorption:</strong> How drugs enter bloodstream from GI tract</p>
                                                        <p><strong>Distribution:</strong> How drugs spread through body tissues</p>
                                                        <p><strong>Metabolism:</strong> How liver breaks down drugs</p>
                                                        <p><strong>Excretion:</strong> How kidneys eliminate drugs</p>
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {/* Alternatives Tab */}
                                        {activeTab === 'alternatives' && (
                                            <div className="space-y-4">
                                                <h3 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'} mb-4 text-center`}>üí° Alternative Herbs</h3>
                                                
                                                {result.alternativeHerbs.length > 0 ? (
                                                    <>
                                                        <div className={`${darkMode ? 'bg-green-900/20 border-green-500/30' : 'bg-green-100 border-green-300'} rounded-xl p-4 border`}>
                                                            <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-3`}>
                                                                Consider these safer alternatives with <strong>{selectedDrug}</strong>:
                                                            </p>
                                                            <div className="grid grid-cols-2 gap-2">
                                                                {result.alternativeHerbs.map((herb, idx) => (
                                                                    <div 
                                                                        key={idx}
                                                                        className={`${darkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-300'} border rounded-lg p-3 text-center`}
                                                                    >
                                                                        <div className="text-2xl mb-1">üåø</div>
                                                                        <div className={`text-sm font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>{herb}</div>
                                                                        <div className={`text-xs ${darkMode ? 'text-green-400' : 'text-green-600'} mt-1`}>Lower Risk</div>
                                                                    </div>
                                                                ))}
                                                            </div>
                                                        </div>

                                                        <div className={`${darkMode ? 'bg-yellow-900/20 border-yellow-500/30' : 'bg-yellow-100 border-yellow-300'} rounded-xl p-4 border`}>
                                                            <h4 className={`font-bold ${darkMode ? 'text-yellow-300' : 'text-yellow-700'} mb-2 flex items-center gap-2`}>
                                                                ‚ö†Ô∏è Important Note
                                                            </h4>
                                                            <p className={`text-xs ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                                                                Always consult your healthcare provider before switching herbs or supplements. Individual responses vary.
                                                            </p>
                                                        </div>
                                                    </>
                                                ) : (
                                                    <div className={`text-center py-8 ${darkMode ? 'bg-blue-900/20 border-blue-500/30' : 'bg-blue-100 border-blue-300'} rounded-xl border`}>
                                                        <div className="text-4xl mb-3">‚úÖ</div>
                                                        <p className={`${darkMode ? 'text-white' : 'text-gray-800'} font-bold`}>Good Choice!</p>
                                                        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'} mt-2`}>
                                                            This combination shows acceptable risk with proper timing.
                                                        </p>
                                                    </div>
                                                )}
                                            </div>
                                        )}
                                    </div>
                                )}
                            </div>
                        </div>

                        {/* Footer */}
                        <div className={`text-center py-6 border-t-2 ${darkMode ? 'border-slate-700' : 'border-gray-300'} no-print`}>
                            <div className={`${darkMode ? 'bg-red-900/20 border-red-500/30' : 'bg-red-100 border-red-300'} border-2 rounded-xl p-4 max-w-2xl mx-auto mb-4`}>
                                <p className={`font-bold ${darkMode ? 'text-red-300' : 'text-red-600'} mb-1`}>‚ö†Ô∏è RESEARCH PROTOTYPE</p>
                                <p className={`${darkMode ? 'text-red-200' : 'text-red-500'} text-sm`}>Educational purposes only. Always consult healthcare professionals.</p>
                            </div>
                            
                            <div className={`max-w-3xl mx-auto mb-4 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>
                                <p className="text-lg mb-2">
                                    <strong className={darkMode ? 'text-blue-400' : 'text-blue-600'}>Created by:</strong> Om Mutyalwar
                                </p>
                                <p className="text-xs mb-3">
                                    AI-powered platform bridging traditional Ayurvedic medicine with modern pharmacology through machine learning and bioinformatics.
                                </p>
                                <a href="mailto:ommutyalwar8@gmail.com" className={`inline-block px-4 py-2 rounded-lg ${darkMode ? 'bg-blue-900/30 border-blue-500/50 text-blue-300' : 'bg-blue-100 border-blue-300 text-blue-700'} border hover:scale-105 transition-all`}>
                                    üìß ommutyalwar8@gmail.com
                                </a>
                            </div>
                            
                            <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} text-sm font-bold`}>¬© 2025 Om Mutyalwar | AyuAllo-AI v1.0</p>
                            <p className={`${darkMode ? 'text-gray-500' : 'text-gray-500'} text-xs mt-2`}>
                                Open for collaboration and research opportunities
                            </p>
                        </div>

                        {/* Print-only header */}
                        <div className="print-only hidden">
                            <h1 className="text-3xl font-bold mb-4">AyuAllo-AI Analysis Report</h1>
                            <p className="text-sm text-gray-600 mb-4">Generated: {result?.timestamp}</p>
                            <p className="text-sm text-gray-600 mb-4">Combination: {selectedHerb} + {selectedDrug}</p>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<AyuAlloAI />, document.getElementById('root'));
    </script>
</body>
</html>
